 <style>
       #filter-items {
        display: flex;
        flex-wrap: wrap;
        align-content: center;
        color: #757575;
    }
   </style>
<div class="shadow-sm border-bottom"> 
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-12 p-3 border-start border-end d-inline-flex">
                <div class="input-group">
                  <span class="input-group-text bg-white border-none" id="seacrhIcon">
                      <img src="~/images/search.png" />
                  </span>
                  <input type="search" class="form-control border-none" placeholder="Search" aria-label="Search" aria-describedby="seacrhIcon" id="searchField" onkeyup="search()">
                </div>
                <button class="img-filter border-none bg-white">
                    <img src="~/images/filter.png" type="button" data-bs-toggle="offcanvas" data-bs-target="#filterMenu" aria-controls="filterMenu"/>
                </button>
            </div>
            <div class="filter-options col-md-8">
                <div class="row h-100">
                    <div class="col-md-3 p-3 border-end">
                        <div class="dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="countryDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                               Country
                            </a> 
                            <ul class="dropdown-menu scrollable-menu" aria-labelledby="profileDropdown" role="menu">
                               <form>
                                    <li><button class="dropdown-item countries" value="All" asp-controller="Mission" asp-action="HomePage" asp-route-id="0">All</button></li>
                                    @foreach(var country in ViewBag.Countries)
                                    {
                                        <li>
                                            <button type="submit" class="dropdown-item countries" value="@country.Name" asp-controller="Mission" asp-action="HomePage" asp-route-id="@country.CountryId">
                                                @country.Name
                                            </button>
                                        </li>
                                    }
                                </form>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3 p-3 border-end">
                        <div class="dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="cityDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                               City
                            </a>
                            <ul class="dropdown-menu ps-2 scrollable-menu" aria-labelledby="cityDropdown">
                              
                                 @*   <li><button class="dropdown-item countries" value="All" asp-controller="Home" asp-action="HomePage" asp-route-id="0">All</button></li>*@
                                    @foreach(var city in ViewBag.Cities)
                                    {
                                        <li>
                                         <div class="form-check" id="drop-city">
                                            <input class="form-check-input" type="checkbox" value="@city.Name" id="@city.Name" onclick="isCheckedById('@city.Name')">
                                            <label class="form-check-label" for="@city.Name">@city.Name</label>
                                        </div>
                                        </li>
                                    }
                               
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3 p-3 border-end">
                        <div class="dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="themeDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                               Theme
                            </a>
                            <ul class="dropdown-menu ps-2 scrollable-menu" aria-labelledby="themeDropdown">
                                @foreach(var theme in ViewBag.Themes)
                                    {
                                        <li>
                                         <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="@theme.Title" id="@theme.Title" onclick="isCheckedById('@theme.Title')" >
                                            <label class="form-check-label" for="@theme.Title">@theme.Title</label>
                                        </div>
                                        </li>
                                    }
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3 p-3 border-end">
                        <div class="dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="skillsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                               Skills
                            </a>
                            <ul class="dropdown-menu ps-2 scrollable-menu" aria-labelledby="skillsDropdown">
                               @foreach(var skill in ViewBag.Skills)
                                    {
                                        <li>
                                         <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="@skill.SkillName" id="@skill.SkillName" onclick="isCheckedById('@skill.SkillName')">
                                            <label class="form-check-label" for="@skill.SkillName">@skill.SkillName</label>
                                        </div>
                                        </li>
                                    }
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="offcanvas offcanvas-start" tabindex="-1" id="filterMenu" aria-labelledby="filterMenu">
              <div class="offcanvas-header flex-row-reverse">
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                  <div class="accordion" id="filters">
                      <div class="accordion-item border-none">
                        <h2 class="accordion-header" id="country">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#countriesAccordion" aria-expanded="false" aria-controls="countriesAccordion">
                            Country
                          </button>
                        </h2>
                        <div id="countriesAccordion" class="accordion-collapse collapse" aria-labelledby="country" data-bs-parent="#filters">
                          <div class="accordion-body">
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="country1">
                              <label class="form-check-label" for="country1">
                                Canada
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="country2">
                              <label class="form-check-label" for="country2">
                                England
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="country3">
                              <label class="form-check-label" for="country3">
                                India
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="country4">
                              <label class="form-check-label" for="country4">
                                USA
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item border-none">
                        <h2 class="accordion-header" id="city">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#citiesAccordion" aria-expanded="false" aria-controls="citiesAccordion">
                           City
                          </button>
                        </h2>
                        <div id="citiesAccordion" class="accordion-collapse collapse" aria-labelledby="city" data-bs-parent="#filters">
                          <div class="accordion-body">
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="city1">
                              <label class="form-check-label" for="city1">
                                Delhi
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="city2">
                              <label class="form-check-label" for="city2">
                                Chennai
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="city3">
                              <label class="form-check-label" for="city3">
                                Ahmedabad
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="city4">
                              <label class="form-check-label" for="city4">
                                Mumbai
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item border-none">
                        <h2 class="accordion-header" id="theme">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#themesAccordion" aria-expanded="false" aria-controls="themesAccordion">
                            Theme
                          </button>
                        </h2>
                        <div id="themesAccordion" class="accordion-collapse collapse" aria-labelledby="theme" data-bs-parent="#filters">
                         <div class="accordion-body">
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="theme1">
                              <label class="form-check-label" for="theme1">
                                theme1
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="theme2">
                              <label class="form-check-label" for="theme2">
                                theme2
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="theme3">
                              <label class="form-check-label" for="theme3">
                                theme3
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="theme4">
                              <label class="form-check-label" for="theme4">
                                theme5
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item border-none">
                        <h2 class="accordion-header" id="skill">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#skillsAccordion" aria-expanded="false" aria-controls="skillsAccordion">
                            Skills
                          </button>
                        </h2>
                        <div id="skillsAccordion" class="accordion-collapse collapse" aria-labelledby="skill" data-bs-parent="#filters">
                         <div class="accordion-body">
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="skill1">
                              <label class="form-check-label" for="skill1">
                                skill1
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="skill2">
                              <label class="form-check-label" for="skill2">
                                skill2
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="skill3">
                              <label class="form-check-label" for="skill3">
                                skill3
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="skill4">
                              <label class="form-check-label" for="skill4">
                                skill4
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
              </div>
            </div>
        </div>
    </div>
</div>

@* <div class="form-check" id="drop-city">
                                            <input class="form-check-input" type="checkbox" value="@city.Name" id="@city.Name" name="@city.Name" onclick="isCheckedById('@city.Name')">
                                            <label class="form-check-label" for="@city.Name">@city.Name</label>
                                        </div>*@

<div id="filter-items">
 
</div>
 
<script>
    arr=new Set([]);
     arrUpper=new Set([]);
    function isCheckedById(id) {
         
         checkbox = document.getElementById(id);
         console.log(id);
         var k=document.getElementById("filter-items");
         if(event.target.checked){
            arr.add(event.target.value);   
            console.log(arr);
         }  
         else{
             arr.delete(event.target.value);
         }
         console.log(arr);
         var temp="";
         for(const item of arr){
             console.log("hello");
             temp += `<span class="rounded-pill alert border-dark px-2 py-0 m-2">
                                    ${item}
                                       <button type="button" class="btn-close" value="${item}" aria-label="Close" data-bs-dismiss="alert"></button>
                               </span>`;
         }
         k.innerHTML=temp;
   for(const item1 of arr){
       //console.log(item1.toUpperCase());
       arrUpper.add(item1.toUpperCase());
       //console.log(arrUpper);
   }
         filter();
    }
   
  
function filter(){

    console.log(arr);   
    cards=document.getElementsByClassName("card-div");
    country= document.getElementsByClassName("mission-country");
    cities=document.getElementsByClassName("mission-city");
    themes=document.getElementsByClassName("mission-title");
  
    for(i=0;i<cards.length;i++){
   
        console.log(cities[i].innerText);
        console.log(themes[i].innerText);
        if(arr.size != 0){
             if(arr.has(cities[i].innerText) || arr.has(themes[i].innerText)){
           
             cards[i].style="display:block";
             cards[i+(cards.length/2)].style="display:block";
        }
       
        
        else{
         
            cards[i].style="display:none";
            cards[i+(cards.length/2)].style="display:none";
        }
        }
        else{
              cards[i].style="display:block";
        }
       
    }
}

  function search() {
  // Declare variables
  var input, filter;
  input = document.getElementById("searchField");
  filter = input.value.toUpperCase();
  cards = document.getElementsByClassName("card-div");
  titles = document.getElementsByClassName("card-title");

  // Loop through all list items, and hide those who don't match the search query
  for (i = 0; i < cards.length; i++) {
    a = titles[i];
    if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
      cards[i].classList.remove("d-none");
    } else {
      cards[i].classList.add("d-none");
    }
  }
}

</script>